<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</title>
<style>
body{margin:0;font-family:sans-serif;background:#0f1724;color:#e6eef8;display:flex;justify-content:center;align-items:center;height:100vh;}
.container{background:#0b1220;padding:20px;border-radius:12px;max-width:400px;width:90%;text-align:center;}
input{padding:10px;border-radius:8px;border:none;width:80%;margin-bottom:10px;background:rgba(255,255,255,0.05);color:#e6eef8;}
button{padding:10px 20px;border:none;border-radius:8px;background:#06b6d4;color:#012;font-weight:700;cursor:pointer;}
.result{margin-top:20px;font-size:16px;}
.statusBadge{display:inline-block;padding:6px 12px;border-radius:50px;font-weight:700;margin-top:10px;}
.badge-received{background:rgba(6,182,212,0.2);color:#06b6d4;}
.badge-processing{background:rgba(245,158,11,0.2);color:#f59e0b;}
.badge-ready{background:rgba(16,185,129,0.2);color:#10b981;}
.badge-delivered{background:rgba(124,58,237,0.2);color:#7c3aed;}
</style>
</head>
<body>
<div class="container">
<h2>Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</h2>
<input type="number" id="orderID" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨" min="1" step="1" oninput="this.value=this.value.replace(/[^0-9]/g,'')">
<button id="checkBtn">Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø§Ù„Ø©</button>
<div class="result" id="result"></div>
</div>

<script>
const API_BASE="https://script.google.com/macros/s/AKfycbyrGHgDi-fLdF7-LtNhDtff7bSfLm7dZ-aSTEtUA2RPdVXWHM8QswiTWaFv1Stin3yT/exec"; // Ù†ÙØ³ Web App Ù„ÙƒÙ† ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©
const $ = s=>document.querySelector(s);

$('#checkBtn').onclick=async()=>{
  const id=$('#orderID').value.trim();
  if(!id){alert('Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨'); return;}
  try{
    const orders=await (await fetch(API_BASE)).json();
    const o=orders.find(x=>String(x.OrderID)===id);
    const resEl=$('#result');
    if(!o){resEl.innerHTML=`<span>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ Ø±Ù‚Ù… ${id}</span>`; return;}
    
    const statusTexts=['ØªÙ… Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…','Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ù‡ÙŠØ²','Ø¬Ø§Ù‡Ø²','ØªÙ… Ø§Ù„ØªØ³Ù„ÙŠÙ…'];
    const statusClasses=['badge-received','badge-processing','badge-ready','badge-delivered'];
    const date=new Date(o.Date);
    const dateFormatted=(('0'+date.getDate()).slice(-2))+'/'+(('0'+(date.getMonth()+1)).slice(-2))+'/'+date.getFullYear();
    
    resEl.innerHTML=`
      <div><strong>#${o.OrderID} â€” ${o.CustomerName}</strong></div>
      <div>ğŸ“ ${o.Phone||'-'} | ğŸ’° ${o.Price||'-'} | ğŸ“… ${dateFormatted}</div>
      <div class="statusBadge ${statusClasses[o.Status-1]}">${statusTexts[o.Status-1]}</div>
    `;
  }catch(e){
    alert('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'); console.error(e);
  }
};
</script>
</body>
</html>
